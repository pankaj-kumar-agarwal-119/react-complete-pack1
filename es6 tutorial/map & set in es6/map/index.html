<html>
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous"/>
    </head>
    <body class="container">
        <h1>Map key value table</h1>
        <table class="table">
            <thead>
                <th>Key</th>
                <th>Type</th>
                <th>Value</th>
            </thead>
            <tbody id="table_id">

            </tbody>
        </table>
        <hr/>
        <button onclick="iterateMap()">Show Table</button>
    </body>
    <script>
        const iterateMap = (mapObj)=>{
          for(let [key,value] of mapObj){
            let tableRef = document.getElementById("table_id");
            let trRef = document.createElement("tr");
            tdKeyRef = document.createElement("td");
            tdKeyRef.innerHTML = `${key}`;
            trRef.appendChild(tdKeyRef);

            tdTypeRef = document.createElement("td");
            tdTypeRef.innerHTML = `${typeof key}`;
            trRef.appendChild(tdTypeRef);

            tdValueRef = document.createElement("td");
            tdValueRef.innerHTML = `${value}`;
            trRef.appendChild(tdValueRef);
            tableRef.appendChild(trRef);
          }
        }


        //Create a map object
        let map = new Map();
        //Adding elements
        map.set("name",'Mohan');
        map.set('age',30);
        map.set(56001,"employeeId");//key is of number type
        map.set(true,"isIndianCitizen");//key is of boolean type
        let apiAddObj = {country : "india",state:"karnataka",apartment_name : "Abc",wing : "B",flat_no:"304"};
        map.set(apiAddObj,"mohan_address");//key is of object type
        //Accessing elements in es6
         console.log(`Employee Details : 
         Employee Name : ${map.get('name')} | Employee Age : ${map.get('age')} | Employee key with id 56001 : ${map.get(56001)} | 
         Employee Citizen status : ${map.get(true)} | Employee name for api res ${apiAddObj} is ${map.get(apiAddObj)}
         `);
         //Removing elements
        //  map.delete(true);
         //check for existance
         console.log("Check if key true exists : ",map.has(true));
         console.log(`Check if key key object ${JSON.stringify(apiAddObj)} exists : , ${map.has(apiAddObj)}`);

         //Iterate over the map object
         console.log("The size of map object : "+map.size);
         

        //  using function as key for map entity
        let getEmployeeDetails = ()=>{
            return map.entries();
        }
        let employeeDetails = getEmployeeDetails();
        map.set(getEmployeeDetails,employeeDetails);

        let getEmployeeSalary = ()=>{
            return {
                base : 100000,
                da : 12000,
                hra : 16000,
                ta : 20000
            }
        }
        let empsalary = getEmployeeSalary();
        map.set(getEmployeeSalary,empsalary);

        iterateMap(map);


    </script>
</html>